{% extends 'users/patient/patient_base.html' %}
{% load crispy_forms_tags %}
{% block content %}

<div class="border border-red-400 h-full">
    {% if messages %}
    {% for msg in messages %}
    {% if msg.tags == 'success' %}
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
        <!-- <strong class="font-bold"></strong> -->
        <span class="block sm:inline">{{msg}}</span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-green-500" role="button" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20">
                <title>Close</title>
                <path
                    d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
            </svg>
        </span>
    </div>
    {% elif msg.tags == 'error' %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <!-- <strong class="font-bold"></strong> -->
        <span class="block sm:inline">{{msg}}</span>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
            <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20">
                <title>Close</title>
                <path
                    d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
            </svg>
        </span>
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}

    <form action="" method="POST" enctype="multipart/form-data" class="w-3/4 m-auto  my-4">

        <div class="h-28 bg-gradient-to-r from-green-400 to-blue-500"></div>
        <div class="w-24 h-24  m-auto m-2 -mt-16">
            <div class="w-20 h-16 m-auto">
                <img class="rounded-full" src="{{ user.personal_image.url }}" alt="user image">
            </div>
        </div>

        {% csrf_token %}
        <div class="flex flex-wrap justify-between mt-16">

            <div class="flex w-full mt-2 mb-2">
                <div class="border border-gray-200 w-2/5 m-auto"></div>
                <div class="text-xl text-gray-500 tracking-widest">Personal Data</div>
                <div class="border border-gray-200 w-2/5 m-auto mt-4"></div>
            </div>

            <div class="flex flex-wrap justify-around">
                <div class="flex flex-wrap flex-col">
                    <label for="id_first_name" class="text-lg text-gray-700 my-2">First Name</label>
                    <input type="text" name="first_name" value="{{p_form.first_name.value}}" maxlength="50" required
                        id="id_first_name"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_last_name" class="text-lg text-gray-700 my-2">Last Name</label>
                    <input type="text" name="last_name" value="{{p_form.last_name.value}}" maxlength="50" required
                        id="id_last_name"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_phone_number" class="text-lg text-gray-700 my-2">Phone Number</label>
                    <input type="text" name="phone_number" value="{{p_form.phone_number.value}}" maxlength="50" required
                        id="id_phone_number"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap mr-auto ml-8 mt-4">
                    <label for="id_personal_image" class="text-lg text-gray-700 my-2">Personal Image:</label>
                    <input type="file" name="personal_image" value="{{p_form.personal_image.value}}" 
                        id="id_personal_image" class="mt-2 ml-2">
                </div>
            </div>

            <div class="flex w-full mt-6">
                <div class="border border-gray-200 w-2/5 m-auto mt-4"></div>
                <div class="text-xl text-gray-500 tracking-widest">Health Data</div>
                <div class="border border-gray-200 w-2/5 m-auto mt-4"></div>
            </div>

            <!-- Health form -->
            <div class="flex flex-wrap justify-around mt-10">


                <div class="flex flex-wrap flex-col">
                    <label for="id_date_of_birth" class="text-lg text-gray-700 my-2">Date of Birth</label>
                    <input type="datetime" name="date_of_birth" value="{{h_form.date_of_birth.value}}" required
                        id="id_date_of_birth"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_age" class="text-lg text-gray-700 my-2">Age</label>
                    <input type="number" name="age" value="{{h_form.age.value}}" required id="id_age"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_blood_group" class="text-lg text-gray-700 my-2">Blood Group</label>
                    <input type="text" name="blood_group" value="{{h_form.blood_group.value}}" maxlength="4" required
                        id="id_blood_group"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>


                <div class="flex flex-wrap flex-col">
                    <label for="id_weight" class="text-lg text-gray-700 my-2">Weight</label>
                    <input type="number" name="weight" value="{{h_form.weight.value}}" required id="id_weight"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_height" class="text-lg text-gray-700 my-2">Height</label>
                    <input type="number" name="height" value="{{h_form.height.value}}" required id="id_height"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>


                <div class="flex flex-wrap flex-col">
                    <label for="id_gender" class="text-lg text-gray-700 my-2">Gender</label>
                    <input type="text" name="gender" value="{{h_form.gender.value}}" maxlength="6" required id="id_gender"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>


                <div class="flex flex-wrap flex-col">
                    <label for="id_country" class="text-lg text-gray-700 my-2">Country</label>
                    <input type="text" name="country" value="{{h_form.country.value}}" maxlength="60" required id="id_country"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_city" class="text-lg text-gray-700 my-2">City</label>
                    <input type="text" name="city" value="{{h_form.city.value}}" maxlength="60" required id="id_city"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>

                <div class="flex flex-wrap flex-col">
                    <label for="id_street" class="text-lg text-gray-700 my-2">Street</label>
                    <input type="text" name="street" value="{{h_form.street.value}}" maxlength="60" required id="id_street"
                        class="border rounded-lg py-2 pl-2 text-gray-500 focus:text-gray-800 focus:outline-none focus:ring-1 focus:border-gray-400">
                </div>


            </div>


        </div>
        <button type="submit"
            class="flex m-auto w-1/3 text-white text-xl bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg mt-4">
            <span class="m-auto">Update</span>
        </button>
    </form>
</div>

{% endblock %}